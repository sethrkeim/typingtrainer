{"ast":null,"code":"var _jsxFileName = \"/Users/Seth/Documents/projects/typing_trainer/client/src/test.js\";\nimport React from 'react';\nimport logo from \"./logo.svg\";\nimport axios from 'axios';\nimport './App.css';\nimport { TextField } from '@material-ui/core';\nimport { Button } from '@material-ui/core';\nimport CanvasJSReact from './canvasjs.react.js';\nvar CanvasJSChart = CanvasJSReact.CanvasJSChart;\nexport default class Test extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.componentDidMount = () => {\n      let get = {\n        getData: true,\n        username: this.props.username\n      };\n      axios.post('http://localhost:9000/', get).then(res => {\n        console.log(res.data);\n\n        if (res.data['times']) {\n          console.log('recorded username');\n          this.setState({\n            times: res.data['times'],\n            initNum: res.data['times'].length\n          });\n          this.charstats = res.data['unigram'];\n          this.bicharstats = res.data['bigram'];\n        } else {\n          console.log('new username');\n        }\n      });\n      fetch('/dictFreq.tsv').then(r => r.text()).then(text => {\n        var all = [];\n        var data = text.split('\\n');\n\n        for (var i = 0; i < data.length; i++) {\n          var line = data[i].split('\\t');\n\n          try {\n            var w = line[1].split(\"\");\n            all.push({\n              word: line[1].split(\"\"),\n              freq: line[2]\n            });\n          } catch {\n            console.log('couldn\\'t split: ' + line[1]);\n          }\n        }\n\n        this.setState({\n          all: all\n        }, this.newWord(all));\n      });\n      document.getElementById(\"filled-basic\").focus();\n    };\n\n    this.newWord = all => {\n      var num = Math.floor(Math.random() * all.length);\n      console.log(num);\n      console.log(all[num]);\n      this.setState({\n        word: all[num]['word']\n      }, function () {\n        var c = [];\n\n        for (var i = 0; i < this.state.word.length; i++) {\n          c.push(\"black\");\n        }\n\n        this.setState({\n          correct: c\n        });\n      }); // var time = new Date();\n      // var times = this.state.times\n      // if(this.state.prev == 0){\n      //   // do nothing\n      // } else {\n      //   var t1 = time.getTime()\n      //   times.push(t1 - this.state.prev)\n      //   this.setState({\n      //     prev: t1,\n      //     times: times\n      //   });\n      // }\n\n      var times = this.state.times;\n      var count = 0;\n      console.log(times);\n\n      for (var i = 0; i < times.length; i++) {\n        for (var j = 0; j < times[i].length; j++) {\n          count = count + times[i][j];\n        }\n      }\n\n      var mean = count / times.length / 1000;\n      this.setState({\n        avg: mean.toFixed(2)\n      });\n\n      if (times.length - this.state.initNum == this.props.num) {\n        this.setState({\n          stats: true\n        });\n        this.setHtml();\n      }\n    };\n\n    this.onKey = e => {\n      console.log(this.state.times);\n      console.log(this.state.avg);\n      console.log('in key');\n\n      if (e.keyCode != 8 && e.keyCode != 46) {\n        var time = new Date();\n        var t1 = time.getTime();\n        var times = this.state.times;\n\n        if (this.state.prev == 0) {\n          times.push([]);\n        } else {\n          console.log(e.key);\n          var cs = this.charstats;\n          var p = this.state.prev;\n          var pc = this.state.prevChar;\n\n          if (pc.length === 2) {\n            pc.shift();\n          }\n\n          var d = {};\n          d[e.key] = t1 - p;\n          pc.push([e.key, t1 - p]);\n\n          if (pc.length > 1) {\n            var bcs = this.bicharstats;\n            var bigram = pc[0][0] + pc[1][0];\n            var bitime = parseFloat(pc[0][1]) + parseFloat(pc[1][1]);\n\n            if (bigram in bcs) {\n              var bichar = bcs[bigram];\n              bichar.push(bitime);\n              bcs[bigram] = bichar;\n            } else {\n              bcs[bigram] = [bitime];\n            }\n          }\n\n          if (e.key in cs) {\n            var char = cs[e.key];\n            char.push(t1 - p);\n            cs[e.key] = char;\n          } else {\n            cs[e.key] = [t1 - p];\n          }\n\n          this.charstats = cs;\n\n          if (this.state.text.length == 0) {\n            times.push([t1 - p]);\n          } else {\n            times[this.state.times.length - 1].push(t1 - p);\n          }\n        }\n\n        console.log(this.charstats);\n        this.setState({\n          prev: t1\n        });\n        var t = this.state.text;\n        var c = this.state.correct;\n\n        if (e.key == this.state.word[t.length]) {\n          c[t.length] = \"green\";\n          this.setState({\n            text: t + e.key\n          });\n        }\n\n        if (!c.includes(\"black\") && !c.includes(\"red\")) {\n          this.newWord(this.state.all);\n          this.setState({\n            text: '',\n            correct: c\n          });\n        }\n      }\n    };\n\n    this.findMean = array => {\n      var sum = 0;\n\n      for (var i = 0; i < array.length; i++) {\n        sum = sum + array[i];\n      }\n\n      return (sum / array.length).toFixed(2);\n    };\n\n    this.setHtml = () => {\n      console.log(this.bicharstats);\n      var dict = this.charstats;\n      var newDict = {};\n\n      for (var key in dict) {\n        newDict[key] = this.findMean(dict[key]);\n      }\n\n      console.log(newDict);\n      var sorted = this.sortJsObject(newDict);\n      console.log('new dict');\n      console.log(newDict);\n      var h = '';\n      sorted.map((element, index) => {\n        h = h + `<p>${element[0]}: ${element[1]}</p>`;\n      });\n      this.setState({\n        charhtml: h\n      });\n      var datapoints = [];\n\n      for (var i = 0; i < sorted.length; i++) {\n        datapoints.push({\n          label: sorted[i][0],\n          y: parseFloat(sorted[i][1])\n        });\n      }\n\n      console.log(datapoints);\n      this.options1 = {\n        title: {\n          text: \"Character Level Stats\"\n        },\n        axisX: {\n          title: 'Character'\n        },\n        axisY: {\n          title: 'Milliseconds'\n        },\n        data: [{\n          indexLabelFontSize: 10,\n          type: 'column',\n          dataPoints: datapoints\n        }]\n      };\n      var dict = this.bicharstats;\n      var newDict = {};\n\n      for (var key in dict) {\n        newDict[key] = this.findMean(dict[key]);\n      }\n\n      console.log(newDict);\n      var sorted = this.sortJsObject(newDict);\n      console.log('new dict');\n      console.log(newDict);\n      var h = '';\n      sorted.map((element, index) => {\n        h = h + `<p>${element[0]}: ${element[1]}</p>`;\n      });\n      this.setState({\n        charhtml: h\n      });\n      var datapoints = [];\n\n      for (var i = 0; i < sorted.length; i++) {\n        datapoints.push({\n          label: sorted[i][0],\n          y: parseFloat(sorted[i][1])\n        });\n      }\n\n      console.log(datapoints);\n      this.options2 = {\n        title: {\n          text: \"Bigram Stats\"\n        },\n        axisX: {\n          title: 'Bigram'\n        },\n        axisY: {\n          title: 'Milliseconds'\n        },\n        data: [{\n          indexLabelFontSize: 10,\n          type: 'column',\n          dataPoints: datapoints\n        }]\n      };\n      let historicalstats = {\n        username: this.props.username,\n        data: {\n          unigram: this.charstats,\n          bigram: this.bicharstats,\n          times: this.state.times\n        }\n      };\n      console.log(this.props.username);\n      axios.post('http://localhost:9000/', historicalstats);\n    };\n\n    this.sortJsObject = dict => {\n      var keys = [];\n\n      for (var key in dict) {\n        keys[keys.length] = key;\n      }\n\n      var values = [];\n\n      for (var i = 0; i < keys.length; i++) {\n        values[values.length] = dict[keys[i]];\n      }\n\n      var sortedValues = values.sort(this.sortNumber);\n      console.log(sortedValues);\n      var sorted = [];\n\n      for (var i = 0; i < sortedValues.length; i++) {\n        for (var k in dict) {\n          if (dict[k] == sortedValues[i]) {\n            sorted.push([k, sortedValues[i]]);\n          }\n        }\n      }\n\n      return sorted;\n    };\n\n    this.sortNumber = (a, b) => {\n      return a - b;\n    };\n\n    this.charstats = {};\n    this.bicharstats = {};\n    this.options1 = {};\n    this.options2 = {};\n    this.state = {\n      all: [],\n      word: [],\n      correct: [],\n      text: '',\n      times: [],\n      prev: 0,\n      avg: 0,\n      stats: false,\n      prevChar: [],\n      charhtml: '<></>',\n      initNum: 0\n    };\n  }\n\n  render() {\n    var checker = this.state.word.map((element, index) => {\n      return /*#__PURE__*/React.createElement(\"p\", {\n        id: `let${index + 1}`,\n        style: {\n          color: this.state.correct[index],\n          display: 'inline-block'\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 352,\n          columnNumber: 7\n        }\n      }, element);\n    });\n    return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(Button, {\n      variant: \"contained\",\n      onClick: this.props.changeDisplay,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 364,\n        columnNumber: 9\n      }\n    }, \"Back\"), /*#__PURE__*/React.createElement(\"div\", {\n      style: {\n        margin: 'auto'\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 366,\n        columnNumber: 9\n      }\n    }, !this.state.stats && /*#__PURE__*/React.createElement(React.Fragment, null, checker, /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 370,\n        columnNumber: 11\n      }\n    }), /*#__PURE__*/React.createElement(TextField, {\n      style: {\n        color: 'white'\n      },\n      id: \"filled-basic\",\n      label: \"text\",\n      multiline: true // onChange={this.change}\n      ,\n      onKeyDown: this.onKey,\n      rows: 4,\n      variant: \"filled\",\n      value: this.state.text,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 371,\n        columnNumber: 11\n      }\n    })), this.state.stats && /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"p\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 386,\n        columnNumber: 11\n      }\n    }, \"Results: \")), /*#__PURE__*/React.createElement(\"p\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 390,\n        columnNumber: 13\n      }\n    }, \"Number of words typed total: \", this.state.times.length), /*#__PURE__*/React.createElement(\"p\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 393,\n        columnNumber: 13\n      }\n    }, \"Words per minute:\", (60 / this.state.avg).toFixed(2)), this.state.stats && /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"div\", {\n      style: {\n        margin: '50px'\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 402,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(CanvasJSChart, {\n      options: this.options1,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 403,\n        columnNumber: 15\n      }\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      style: {\n        margin: '50px'\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 405,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(CanvasJSChart, {\n      options: this.options2,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 406,\n        columnNumber: 15\n      }\n    })))));\n  }\n\n}","map":{"version":3,"sources":["/Users/Seth/Documents/projects/typing_trainer/client/src/test.js"],"names":["React","axios","TextField","Button","CanvasJSReact","CanvasJSChart","Test","Component","constructor","props","componentDidMount","get","getData","username","post","then","res","console","log","data","setState","times","initNum","length","charstats","bicharstats","fetch","r","text","all","split","i","line","w","push","word","freq","newWord","document","getElementById","focus","num","Math","floor","random","c","state","correct","count","j","mean","avg","toFixed","stats","setHtml","onKey","e","keyCode","time","Date","t1","getTime","prev","key","cs","p","pc","prevChar","shift","d","bcs","bigram","bitime","parseFloat","bichar","char","t","includes","findMean","array","sum","dict","newDict","sorted","sortJsObject","h","map","element","index","charhtml","datapoints","label","y","options1","title","axisX","axisY","indexLabelFontSize","type","dataPoints","options2","historicalstats","unigram","keys","values","sortedValues","sort","sortNumber","k","a","b","render","checker","color","display","changeDisplay","margin"],"mappings":"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","sourcesContent":["import React from 'react';\nimport logo from './logo.svg';\nimport axios from 'axios';\nimport './App.css';\nimport { TextField } from '@material-ui/core'\nimport { Button } from '@material-ui/core'\nimport CanvasJSReact from './canvasjs.react.js';\nvar CanvasJSChart = CanvasJSReact.CanvasJSChart;\n\nexport default class Test extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.charstats = {};\n    this.bicharstats = {};\n\n    this.options1 = {};\n    this.options2 = {};\n    this.state = ({\n      all: [],\n      word: [],\n      correct: [],\n      text: '',\n      times: [],\n      prev: 0,\n      avg: 0,\n      stats: false,\n      prevChar: [],\n      charhtml: '<></>',\n      initNum: 0\n    });\n  }\n\n  componentDidMount = () => {\n    let get = {\n      getData: true,\n      username: this.props.username\n    }\n    axios.post('http://localhost:9000/', get)\n      .then(res => {\n        console.log(res.data)\n        if(res.data['times']) {\n          console.log('recorded username')\n          this.setState({ times: res.data['times'], initNum: res.data['times'].length })\n          this.charstats = res.data['unigram']\n          this.bicharstats = res.data['bigram']\n        } else {\n          console.log('new username')\n        }\n        \n      });\n\n    fetch('/dictFreq.tsv')\n    .then((r) => r.text())\n    .then(text => {\n      var all = [];\n      var data = text.split('\\n');\n      for(var i = 0; i < data.length; i++) {\n        var line = data[i].split('\\t');\n        try{\n          var w = line[1].split(\"\");\n          all.push({\n            word: line[1].split(\"\"),\n            freq: line[2]\n          })\n        } catch {\n          console.log('couldn\\'t split: ' + line[1])\n        }\n        \n      }\n      this.setState({\n        all: all\n      }, this.newWord(all))\n    });\n\n    document.getElementById(\"filled-basic\").focus()\n  }\n\n  newWord = (all) => {\n    \n    var num = Math.floor(Math.random() * all.length);\n    console.log(num)\n    console.log(all[num])\n    this.setState({\n      word: all[num]['word']\n    }, function() {\n      var c = []\n      for(var i = 0; i < this.state.word.length; i++) {\n        c.push(\"black\")\n      }\n      this.setState({\n        correct: c\n      });\n    });\n\n    // var time = new Date();\n    // var times = this.state.times\n    // if(this.state.prev == 0){\n    //   // do nothing\n    // } else {\n    //   var t1 = time.getTime()\n    //   times.push(t1 - this.state.prev)\n    //   this.setState({\n    //     prev: t1,\n    //     times: times\n    //   });\n    // }\n    var times = this.state.times\n    var count = 0;\n    console.log(times)\n    for(var i = 0; i < times.length; i++) {\n      for(var j = 0; j < times[i].length; j++) {\n        count = count + times[i][j];\n      }\n    }\n    var mean = ((count / times.length) / 1000);\n    \n    this.setState({\n      avg: mean.toFixed(2)\n    });\n    \n    if(times.length - this.state.initNum == this.props.num) {\n      this.setState({\n        stats: true\n      })\n      this.setHtml();\n    }\n  }\n\n\n\n  onKey = (e) => {\n    console.log(this.state.times)\n    console.log(this.state.avg)\n    console.log('in key')\n    if(e.keyCode != 8 && e.keyCode != 46) {\n      var time = new Date();\n      var t1 = time.getTime();\n      var times = this.state.times;\n      if(this.state.prev == 0) {\n        times.push([])\n      } else {\n        console.log(e.key);\n        var cs = this.charstats\n        var p = this.state.prev;\n        var pc = this.state.prevChar;\n        if(pc.length === 2) {\n          pc.shift()\n        }\n        var d = {};\n        d[e.key] = t1-p;\n        pc.push([e.key, t1-p]);\n        if(pc.length > 1) {\n          var bcs = this.bicharstats;\n          var bigram = pc[0][0] + pc[1][0]\n          var bitime = parseFloat(pc[0][1]) + parseFloat(pc[1][1]);\n          if(bigram in bcs) {\n            var bichar = bcs[bigram];\n            bichar.push(bitime)\n            bcs[bigram] = bichar\n          } else {\n            bcs[bigram] = [bitime]\n          }\n        }\n        \n        if(e.key in cs) {\n          var char = cs[e.key];\n          char.push(t1-p);\n          cs[e.key] = char\n        } else {\n          cs[e.key] = [t1-p]\n        }\n        this.charstats = cs;\n        \n        if(this.state.text.length == 0) {\n          times.push([t1-p]);\n        } else {\n          times[this.state.times.length-1].push(t1-p)\n        }\n        \n      }\n\n      console.log(this.charstats)\n      this.setState({\n        prev: t1\n      })\n      var t = this.state.text\n      \n      var c = this.state.correct;\n      if(e.key == this.state.word[t.length]) {\n        c[t.length] = \"green\"\n        this.setState({\n          text: t+e.key\n        });\n      } \n    \n   \n    \n      if(!c.includes(\"black\") && !c.includes(\"red\")) {\n        this.newWord(this.state.all)\n        this.setState({\n          text: '',\n          correct: c\n        })\n      }\n    }\n  }\n    \n\n  findMean = (array) => {\n    var sum = 0;\n    for(var i = 0; i < array.length; i++) {\n      sum = sum + array[i];\n    }\n    return (sum / array.length).toFixed(2);\n  }\n\n  setHtml = () => {\n    console.log(this.bicharstats)\n    var dict = this.charstats;\n    var newDict = {}\n    for(var key in dict) {\n      newDict[key] = this.findMean(dict[key]);\n    }\n    console.log(newDict)\n    var sorted = this.sortJsObject(newDict);\n    console.log('new dict')\n    console.log(newDict)\n    var h = ''\n    sorted.map((element, index) => {\n      h = h + `<p>${element[0]}: ${element[1]}</p>`\n    })\n    this.setState({\n      charhtml: h\n    })\n    var datapoints = [];\n    for(var i = 0; i < sorted.length; i++) {\n      \n      datapoints.push({ label: sorted[i][0], y: parseFloat(sorted[i][1])})\n    }\n    console.log(datapoints)\n    this.options1 = {\n        title: {\n            text: \"Character Level Stats\"\n        },\n        axisX: {\n          title: 'Character'\n        }, \n        axisY: {\n          title: 'Milliseconds'\n        },\n        data: [\n          {\n              indexLabelFontSize: 10,\n              type: 'column',\n              dataPoints: datapoints\n              \n          }\n        ]\n    }\n\n\n    var dict = this.bicharstats;\n    var newDict = {}\n    for(var key in dict) {\n      newDict[key] = this.findMean(dict[key]);\n    }\n    console.log(newDict)\n    var sorted = this.sortJsObject(newDict);\n    console.log('new dict')\n    console.log(newDict)\n    var h = ''\n    sorted.map((element, index) => {\n      h = h + `<p>${element[0]}: ${element[1]}</p>`\n    })\n    this.setState({\n      charhtml: h\n    })\n    var datapoints = [];\n    for(var i = 0; i < sorted.length; i++) {\n      \n      datapoints.push({ label: sorted[i][0], y: parseFloat(sorted[i][1])})\n    }\n    console.log(datapoints)\n    this.options2 = {\n        title: {\n            text: \"Bigram Stats\"\n        },\n        axisX: {\n          title: 'Bigram'\n        }, \n        axisY: {\n          title: 'Milliseconds'\n        },\n        data: [\n          {\n              indexLabelFontSize: 10,\n              type: 'column',\n              dataPoints: datapoints\n              \n          }\n        ]\n    }\n    let historicalstats = {\n      username: this.props.username,\n      data: {\n        unigram: this.charstats,\n        bigram: this.bicharstats,\n        times: this.state.times\n      }\n    }\n    console.log(this.props.username)\n    axios.post('http://localhost:9000/', historicalstats)\n  }\n\n  sortJsObject = (dict) => {\n      \n    var keys = [];\n    for(var key in dict) { \n      keys[keys.length] = key;\n    }\n\n    var values = [];     \n    for(var i = 0; i < keys.length; i++) {\n      values[values.length] = dict[keys [i]];\n    }\n\n    var sortedValues = values.sort(this.sortNumber);\n    console.log(sortedValues);\n\n    var sorted = []\n    for(var i = 0; i < sortedValues.length; i++) {\n      for(var k in dict) {\n        if(dict[k] == sortedValues[i]) {\n          sorted.push([k, sortedValues[i]])\n        }\n      }\n    }\n    return sorted;\n  } \n\n  // this is needed to sort values as integers\n  sortNumber = (a,b) => {\n    return a - b;\n  }\n\n\n  render() {\n    \n    var checker = this.state.word.map((element, index) => {\n      return(\n      <p\n      id={`let${index + 1}`}\n      style={{color: this.state.correct[index], display: 'inline-block'}}>\n        {element}\n      </p>\n      );\n    })\n  \n\n    \n    return (\n        <>\n        <Button variant=\"contained\" onClick={this.props.changeDisplay}>Back</Button>\n        \n        <div style={{margin: 'auto'}}>\n        {!this.state.stats && \n        <>\n          {checker}\n          <br />\n          <TextField \n            style={{ color: 'white' }} \n            id=\"filled-basic\" \n            label=\"text\" \n            multiline\n            // onChange={this.change}\n            onKeyDown={this.onKey}\n            rows={4}\n            variant=\"filled\"\n            value={this.state.text}\n            />\n            </>\n          }\n          {this.state.stats &&\n          <>\n          <p>Results: </p>\n          \n          </>\n          }\n            <p>\n              Number of words typed total: {this.state.times.length}\n            </p>\n            <p>\n              Words per minute:\n              {(60 / this.state.avg).toFixed(2)}\n            </p>\n            {/* {this.state.stats &&\n            <div dangerouslySetInnerHTML={{ __html: this.state.charhtml }} />\n            } */}\n            {this.state.stats &&\n            <>\n            <div style={{ margin: '50px'}}>\n              <CanvasJSChart options = {this.options1} />\n            </div>\n            <div style={{ margin: '50px'}}>\n              <CanvasJSChart options = {this.options2} />\n            </div>\n            \n            </>\n            }\n          \n        </div>\n        \n        \n        </>\n    );\n  }\n}\n\n"]},"metadata":{},"sourceType":"module"}